<!doctype html>
<html><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>BIP 113 Median time-past  - Glossario Bitcoin</title><link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet"/><link href="bootstrap-5.2.0-dist/css/bootstrap.min.css" rel="stylesheet"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/4.1.5/css/flag-icons.min.css" integrity="sha512-UwbBNAFoECXUPeDhlKR3zzWU3j8ddKIQQsDOsKhXQGdiB5i3IHEXr9kXx82+gaHigbNKbTDp3VY/G6gZqva6ZQ==" crossorigin="anonymous" referrerpolicy="no-referrer"/></head><body><div><header style="background: #ff9300;"><header class="p-4 bg-white flex flex-col lg:flex-row justify-between items-center"><div><a href="https://bitcoinitalianetwork.com/" class="text-lg"><span class="font-bold text-black"><span class="bg-green-500">&nbsp;₿itcoin</span><span>Italia</span><span class="bg-red-500 text-white">Network&nbsp;</span></span></a></div></header></header><div class="container"><nav><ol class="breadcrumb"><li class="breadcrumb-item"><a href="https://bitcoinitalianetwork.com/">Home</a></li><li class="breadcrumb-item"><a href="https://glossario.bitcoinitalianetwork.com/">Glossario</a></li><li class="breadcrumb-item"><a href="livello_avanzato.html">avanzato</a></li><li class="breadcrumb-item"><a href="avanzato_tecnologia.html">tecnologia</a></li></ol></nav></div><main><div class="container"><div class="card"><div class="card-body"><h5 class="card-body"><div><p><span class="flag-icon flag-icon-gb"></span><span> </span>BIP 113 Median time-past</p><div></div></div></h5><p class="card-text"><div><p><span class="text-secondary">Difficoltà: </span><a href="livello_avanzato.html" class="badge bg-primary">avanzato</a></p><p><span class="text-secondary">Argomento: </span><span class="badge rounded-pill bg-success">tecnologia</span></p><hr/><p class="fw-bold">DEFINIZIONE</p><section><p class="fs-5"><p>In un network decentralizzato come Bitcoin non esiste un servizio che fornisce un tempo affidabile: gli eventi non sono simultanei, esiste una latenza nella propagazione delle informazioni tra i partecipanti e ogni nodo ha il suo orario che può essere più o meno preciso.
Sono i miner ad inserire il timestamp nei nuovi blocchi da loro minati e su questo hanno un certo grado di libertà, e ci sono diversi blocchi nella blockchain bitcoin nei quali blocchi successivi hanno un orario inferiore a quelli precedenti.
Inoltre dal momento che le regole del consenso non impongono un rigoroso ordinamento dei timestamp dei blocchi, si crea un incentivo perverso per i miner nel poter impostare ad arte il timestamp nei nuovi blocchi minati al fine di riscuotere fee più sostanziose includendo transazioni che potrebbero non essere ancora valide, transazioni che hanno un timelock che ancora non è passato.</p>
<p>BIP-113 definisce una nuova misurazione del consensus time, l'orario concordato tra i partecipanti alla rete, chiamata Median time-past: viene calcolato prendendo il timestamp degli ultimi 11 blocchi e facendo la media, e utilizzare per i timelock questo orario medio invece del timestamp deciso dal miner del blocco nel quale è inserita la transazione.
Le regole di consenso esistenti garantiscono che questo valore avanzi in modo monotono, eliminando così la possibilità per i miner di inserire transazioni ancora bloccate con fee alte impostando dei timestamp artefatti.
Median time-past cambia l’implementazione del calcolo del tempo per nLocktime, CLTV, nSequence e CSV (il consensus time è approssimativamente un’ora indietro rispetto all’orologio). Se si creano transazioni con timelock occorre tenerne conto quando si stima il valore desiderato da codificare in nLocktime, CLTV, nSequence e nSequence.</p></p></section><div><ul class="list-group  list-group-flush"><li class="list-group-item fw-bold">Link utili:</li><li class="list-group-item"><a href="https://github.com/bitcoin/bips/blob/master/bip-0113.mediawiki">Il testo della BIP 113 Median time-past as endpoint for lock-time calculations (in inglese)</a></li></ul></div><div class="row p-4 fw-light"><ul class="list-group"><li class="list-group-item list-group-item-primary">Vedi anche</li><li class="list-group-item list-group-item-action"><a href="bip.html">BIP</a> (Bitcoin Improvement Proposal)</li><li class="list-group-item list-group-item-action"><a href="cltv.html">CLTV</a> (Check Lock Time Verify)</li><li class="list-group-item list-group-item-action"><a href="miner.html">Miner</a></li><li class="list-group-item list-group-item-action"><a href="nat.html">NAT</a> (Network-adjusted time)</li><li class="list-group-item list-group-item-action"><a href="nlocktime.html">nLockTime</a></li><li class="list-group-item list-group-item-action"><a href="timelocklocktime.html">Timelock/Locktime</a></li><li class="list-group-item list-group-item-action"><a href="timestamp.html">Timestamp</a> Marca temporale</li></ul></div><hr/><p class="text-end fw-lighter"><span class="text-secondary">aggiornato il </span>2024-04-21</p></div></p></div></div></div></main><div class="container-fluid text-white bg-dark"><div class="container"><footer class="py-5"><div class="row"><div>Scarica il glossario: 
<a href="glossario.pdf" class="text-white">pdf</a> 
<a href="glossario.epub" class="text-white">epub</a></div><div class="row fs-6 fw-lighter">il Glossario Bitcoin in italiano è disponibile su ipfs: <ul><li><span><a href="https://shrill-water-3846.on.fleek.co/" class="text-white">tramite Fleek</a> <a href="https://docs.ipfs.io/how-to/websites-on-ipfs/introducing-fleek/" class="text-white">(cos'è Fleek?)</a></span></li></ul></div></div><div class="d-flex justify-content-between py-4 my-4 border-top"><a href="https://BitcoinItaliaNetwork.com" style="color: white;">Bitcoin Italia Network</a><a href="https://nostree.me/npub14yzptn3vkf4ravfl9dhu49pzqpsap3m5emze2e6v4tuyceht72eqkhzldt" style="color: white;">21 Milioni di chiacchiere</a><ul class="list-unstyled d-flex"><li class="ms-3"><a href="https://t.me/+iCd-GTx2Sx04Mzk0" class="text-white"><i class="bi bi-telegram"></i></a></li><li class="ms-3"><a href="https://twitter.com/21MdiC_BTC" class="text-white"><i class="bi bi-twitter-x"></i></a></li><li class="ms-3"><a href="https://www.facebook.com/groups/1479005739604711" class="text-white"><i class="bi bi-facebook"></i></a></li><li class="ms-3"><a href="https://nostr.com/npub14yzptn3vkf4ravfl9dhu49pzqpsap3m5emze2e6v4tuyceht72eqkhzldt" class="text-white"><i class="bi bi-clipboard2-check"></i></a></li><li class="ms-3"><a href="https://www.threads.net/@21mdic.btc" class="text-white"><i class="bi bi-threads"></i></a></li></ul></div></footer></div></div></div><script src="bootstrap-5.2.0-dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script></body></html>