<!doctype html>
<html><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>nLockTime  - Glossario Bitcoin</title><link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet"/><link href="bootstrap-5.2.0-dist/css/bootstrap.min.css" rel="stylesheet"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/4.1.5/css/flag-icons.min.css" integrity="sha512-UwbBNAFoECXUPeDhlKR3zzWU3j8ddKIQQsDOsKhXQGdiB5i3IHEXr9kXx82+gaHigbNKbTDp3VY/G6gZqva6ZQ==" crossorigin="anonymous" referrerpolicy="no-referrer"/></head><body><div><header style="background: #ff9300;"><header class="p-4 bg-white flex flex-col lg:flex-row justify-between items-center"><div><a href="https://bitcoinitalianetwork.com/" class="text-lg"><span class="font-bold text-black"><span class="bg-green-500">&nbsp;₿itcoin</span><span>Italia</span><span class="bg-red-500 text-white">Network&nbsp;</span></span></a></div></header></header><div class="container"><nav><ol class="breadcrumb"><li class="breadcrumb-item"><a href="https://bitcoinitalianetwork.com/">Home</a></li><li class="breadcrumb-item"><a href="https://glossario.bitcoinitalianetwork.com/">Glossario</a></li><li class="breadcrumb-item"><a href="livello_avanzato.html">avanzato</a></li><li class="breadcrumb-item"><a href="avanzato_tecnologia.html">tecnologia</a></li></ol></nav></div><main><div class="container"><div class="card"><div class="card-body"><h5 class="card-body"><div><p><span class="flag-icon flag-icon-gb"></span><span> </span>nLockTime</p><div></div></div></h5><p class="card-text"><div><p><span class="text-secondary">Difficoltà: </span><a href="livello_avanzato.html" class="badge bg-primary">avanzato</a></p><p><span class="text-secondary">Argomento: </span><span class="badge rounded-pill bg-success">tecnologia</span></p><hr/><p class="fw-bold">DEFINIZIONE</p><section><p class="fs-5"><p>nLockTime è un parametro di una transazione che se impostato impone un tempo minimo prima del quale la transazione non può essere accettata in un blocco.</p>
<p>Nella versione iniziale di Bitcoin, i nodi non trasmettevano né minavano transazioni con nLockTime uguale o superiore all'altezza del blocco corrente (a meno che tutti i numeri di sequenza degli input fossero 0xffffffff), tuttavia accettavano blocchi contenenti transazioni con qualsiasi valore di nLockTime. In Bitcoin 0.1.6, l'interpretazione di nLockTime è stata regolata per consentire anche lock time-based.
Poi, a partire dal blocco 31001 (dicembre 2009), le restrizioni nLockTime sono state attivate come una regola che si applicava anche all'accettazione dei blocchi.
Poiché il timestamp inserito nel blocco dal miner non è preciso, a luglio 2016 i lock time-based sono stati modificati come stabilito dal BIP 113 per operare sul Median time-past invece del timestamp del blocco.</p>
<p>Anche se ogni transazione contiene il campo nLockTime, ogni wallet fino a poco tempo fa impostava nLockTime a 0, il che significa che la transazione era valida in qualsiasi blocco.
A partire da Bitcoin Core 0.11.0, ogni transazione normale generata automaticamente ha iniziato a includere un nLockTime impostato su un'altezza di blocco recente come un modo per rendere meno redditizio l'ipotetico Fee sniping.</p>
<p>All'inizio del 2019 circa il 20% di tutte le transazioni bitcoin impostano un valore nLockTime diverso da zero.</p>
<p>nLockTime è un parametro di una transazione, che, se qualsiasi input lo indica (avendo nSequence non uguale a UINT_MAX), impone un tempo minimo (specificato sia in tempo unix che in altezza di blocco), prima del quale la transazione non può essere accettata in un blocco. Se tutti gli ingressi in una transazione hanno nSequence uguale a UINT_MAX (0xFFFFFFFF), allora nLockTime viene ignorato.</p>
<p>Se nLockTime &lt; 500000000
Specifica il numero di blocco dopo il quale questa transazione può essere inclusa in un blocco.
Altrimenti specifica il timestamp UNIX dopo il quale questa transazione può essere inclusa in un blocco.
Dall'adozione del BIP 113, nLockTime basato sul tempo viene confrontato con il Median time-past, il tempo passato mediano degli 11 blocchi (il timestamp mediano degli 11 blocchi che precedono il blocco in cui la transazione viene estratta), e non il tempo del blocco stesso. Il tempo mediano passato tende a ritardare il tempo unix corrente di circa un'ora (più o meno), ma a differenza del tempo del blocco aumenta monotonicamente.</p>
<p>Per il relay della transazione, nLockTime deve essere minore o uguale al block height corrente (block-based) o minore o uguale al tempo mediano passato corrente (if time based). Questo assicura che la transazione possa essere inclusa nel blocco successivo.</p>
<p>Il comportamento di nLockTime di una transazione può essere modificato dal numero di sequenza di un ingresso quando si usa OP_CHECKSEQUENCEVERIFY. Questo particolare opcode è usato all'interno degli script di input per asserire che il numero di sequenza dell'input, che nelle transazioni normali è impostato a UINT_MAX, è maggiore o uguale all'elemento superiore dello stack (di solito il nLockTime della transazione). OP_CHECKSEQUENCEVERIFY è usato in alcuni protocolli Layer 2.</p></p></section><div class="row p-4 fw-light"><ul class="list-group"><li class="list-group-item list-group-item-primary">Vedi anche</li><li class="list-group-item list-group-item-action"><a href="bip-113-median-time-past.html">BIP 113 Median time-past</a></li><li class="list-group-item list-group-item-action"><a href="block-height.html">Block height</a> Altezza del blocco</li><li class="list-group-item list-group-item-action"><a href="fee-sniping.html">Fee sniping</a></li><li class="list-group-item list-group-item-action"><a href="full-node.html">Full Node</a> nodo completo</li><li class="list-group-item list-group-item-action"><a href="miner.html">Miner</a></li><li class="list-group-item list-group-item-action"><a href="timelocklocktime.html">Timelock/Locktime</a></li></ul></div><hr/><p class="text-end fw-lighter"><span class="text-secondary">aggiornato il </span>2022-03-15</p></div></p></div></div></div></main><div class="container-fluid text-white bg-dark"><div class="container"><footer class="py-5"><div class="row"><div>Scarica il glossario: 
<a href="glossario.pdf" class="text-white">pdf</a> 
<a href="glossario.epub" class="text-white">epub</a></div><div class="row fs-6 fw-lighter">il Glossario Bitcoin in italiano è disponibile su ipfs: <ul><li><span><a href="https://shrill-water-3846.on.fleek.co/" class="text-white">tramite Fleek</a> <a href="https://docs.ipfs.io/how-to/websites-on-ipfs/introducing-fleek/" class="text-white">(cos'è Fleek?)</a></span></li></ul></div></div><div class="d-flex justify-content-between py-4 my-4 border-top"><a href="https://BitcoinItaliaNetwork.com" style="color: white;">Bitcoin Italia Network</a><a href="https://nostree.me/npub14yzptn3vkf4ravfl9dhu49pzqpsap3m5emze2e6v4tuyceht72eqkhzldt" style="color: white;">21 Milioni di chiacchiere</a><ul class="list-unstyled d-flex"><li class="ms-3"><a href="https://t.me/+iCd-GTx2Sx04Mzk0" class="text-white"><i class="bi bi-telegram"></i></a></li><li class="ms-3"><a href="https://twitter.com/21MdiC_BTC" class="text-white"><i class="bi bi-twitter-x"></i></a></li><li class="ms-3"><a href="https://www.facebook.com/groups/1479005739604711" class="text-white"><i class="bi bi-facebook"></i></a></li><li class="ms-3"><a href="https://nostr.com/npub14yzptn3vkf4ravfl9dhu49pzqpsap3m5emze2e6v4tuyceht72eqkhzldt" class="text-white"><i class="bi bi-clipboard2-check"></i></a></li><li class="ms-3"><a href="https://www.threads.net/@21mdic.btc" class="text-white"><i class="bi bi-threads"></i></a></li></ul></div></footer></div></div></div><script src="bootstrap-5.2.0-dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script></body></html>