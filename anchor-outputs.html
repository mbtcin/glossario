<!doctype html>
<html><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Anchor outputs  - Glossario Bitcoin</title><link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet"/><link href="bootstrap-5.2.0-dist/css/bootstrap.min.css" rel="stylesheet"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/4.1.5/css/flag-icons.min.css" integrity="sha512-UwbBNAFoECXUPeDhlKR3zzWU3j8ddKIQQsDOsKhXQGdiB5i3IHEXr9kXx82+gaHigbNKbTDp3VY/G6gZqva6ZQ==" crossorigin="anonymous" referrerpolicy="no-referrer"/></head><body><div><header style="background: #ff9300;"><header class="p-4 bg-white flex flex-col lg:flex-row justify-between items-center"><div><a href="https://bitcoinitalianetwork.com/" class="text-lg"><span class="font-bold text-black"><span class="bg-green-500">&nbsp;₿itcoin</span><span>Italia</span><span class="bg-red-500 text-white">Network&nbsp;</span></span></a></div></header></header><div class="container"><nav><ol class="breadcrumb"><li class="breadcrumb-item"><a href="https://bitcoinitalianetwork.com/">Home</a></li><li class="breadcrumb-item"><a href="https://glossario.bitcoinitalianetwork.com/">Glossario</a></li><li class="breadcrumb-item"><a href="livello_avanzato.html">avanzato</a></li><li class="breadcrumb-item"><a href="avanzato_tecnologia.html">tecnologia</a></li></ol></nav></div><main><div class="container"><div class="card"><div class="card-body"><h5 class="card-body"><div><p><span class="flag-icon flag-icon-gb"></span><span> </span>Anchor outputs</p><div></div></div></h5><p class="card-text"><div><p><span class="text-secondary">Difficoltà: </span><a href="livello_avanzato.html" class="badge bg-primary">avanzato</a></p><p><span class="text-secondary">Argomento: </span><span class="badge rounded-pill bg-success">tecnologia</span></p><hr/><p class="fw-bold">DEFINIZIONE</p><section><p class="fs-5"><p>Gli Anchor output sono output speciali nelle <a href="commitment-transaction.html">commitment transaction</a> di <a href="lightning-network.html">Lightning Network</a>, concepite per consentire il <a href="fee-bumping.html">fee bumping</a> della transazione. Un nome precedente della proposta era simplified <a href="commitment.html">commitment</a>.</p>
<p>Ogni volta che il saldo cambia in un <a href="lightning-channel.html">canale Lightning Network</a>, viene creata una <em>commitment transaction</em> e firmata dalle parti partecipanti. La transazione viene trasmessa solo se una parte decide di chiudere unilateralmente il canale (ad esempio perché l'altra parte non risponde). Poiché la trasmissione della commitment transaction può avvenire molto tempo dopo la sua creazione, la commitment transaction può pagare un importo troppo alto o troppo basso in <a href="fee.html">fee</a> di transazione. Pagare un <a href="feerate.html">feerate</a> troppo basso può impedire alla commitment transaction di confermare prima della scadenza dei <a href="timelocklocktime.html">timelock</a> in essa contenuti, consentendo il furto di fondi.</p>
<p>La soluzione è che la commitment transaction paghi un importo minimo di fee e poi permetta a uno dei due partecipanti al canale di applicare un fee bump alla transazione. I primi progetti per ottenere questo risultato utilizzavano il fee bumping <a href="rbf.html">RBF Replace-by-Fee</a>, che si scontrava con i problemi di pinning delle transazioni. I progetti successivi hanno utilizzato il fee bumping <a href="cpfp.html">CPFP Child Pays For Parent</a> e sono arrivati a dipendere dal CPFP carve-out per aggirare il problema del pinning.</p>
<p>Al momento, le versioni più recenti del progetto aggiungono due output alla commitment transaction, una per ogni parte Lightning Network, e richiedono che tutte le altre output nella commitment transaction siano gravate da una condizione OP_CHECKSEQUENCEVERIFY <a href="bip-112-csv.html">CSV</a> che impedisce loro di essere spese per almeno un blocco.</p>
<p>Per essere pienamente efficace, il protocollo dipende anche dall'implementazione da parte dei nodi Bitcoin full del package relay, in modo che ci sia un modo per far pagare CPFP le commitment transaction anche se i loro feerate sono al di sotto del <a href="minrelaytxfee.html">minRelayTxFee</a>, la quota minima di relay di un nodo. Tuttavia, fino a quando il package relay non sarà disponibile, i nodi Lightning Network potranno limitarsi a pagare un feerate leggermente più alto sulle loro commitment transaction per assicurarsi che vengano accettate dai nodi.</p></p></section><div><ul class="list-group  list-group-flush"><li class="list-group-item fw-bold">Link utili:</li><li class="list-group-item"><a href="https://bitcoinops.org/en/topics/anchor-outputs/">Anchor outputs sul sito Bitcoin Optech, Operations Technology, Group (in inglese)</a></li></ul></div><div class="row p-4 fw-light"><ul class="list-group"><li class="list-group-item list-group-item-primary">Vedi anche</li><li class="list-group-item list-group-item-action"><a href="cpfp.html">CPFP</a> (Child pays for parent)</li><li class="list-group-item list-group-item-action"><a href="rbf.html">RBF</a> (Replace-by-fee)</li></ul></div><hr/><p class="text-end fw-lighter"><span class="text-secondary">aggiornato il </span>2022-11-16</p></div></p></div></div></div></main><div class="container-fluid text-white bg-dark"><div class="container"><footer class="py-5"><div class="row"><div>Scarica il glossario: 
<a href="glossario.pdf" class="text-white">pdf</a> 
<a href="glossario.epub" class="text-white">epub</a></div><div class="row fs-6 fw-lighter">il Glossario Bitcoin in italiano è disponibile su ipfs: <ul><li><span><a href="https://shrill-water-3846.on.fleek.co/" class="text-white">tramite Fleek</a> <a href="https://docs.ipfs.io/how-to/websites-on-ipfs/introducing-fleek/" class="text-white">(cos'è Fleek?)</a></span></li></ul></div></div><div class="d-flex justify-content-between py-4 my-4 border-top"><a href="https://BitcoinItaliaNetwork.com" style="color: white;">Bitcoin Italia Network</a><a href="https://nostree.me/npub14yzptn3vkf4ravfl9dhu49pzqpsap3m5emze2e6v4tuyceht72eqkhzldt" style="color: white;">21 Milioni di chiacchiere</a><ul class="list-unstyled d-flex"><li class="ms-3"><a href="https://t.me/+iCd-GTx2Sx04Mzk0" class="text-white"><i class="bi bi-telegram"></i></a></li><li class="ms-3"><a href="https://twitter.com/21MdiC_BTC" class="text-white"><i class="bi bi-twitter-x"></i></a></li><li class="ms-3"><a href="https://www.facebook.com/groups/1479005739604711" class="text-white"><i class="bi bi-facebook"></i></a></li><li class="ms-3"><a href="https://nostr.com/npub14yzptn3vkf4ravfl9dhu49pzqpsap3m5emze2e6v4tuyceht72eqkhzldt" class="text-white"><i class="bi bi-clipboard2-check"></i></a></li><li class="ms-3"><a href="https://www.threads.net/@21mdic.btc" class="text-white"><i class="bi bi-threads"></i></a></li></ul></div></footer></div></div></div><script src="bootstrap-5.2.0-dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script></body></html>