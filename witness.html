<!doctype html>
<html><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>witness  - Glossario Bitcoin</title><link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet"/><link href="bootstrap-5.2.0-dist/css/bootstrap.min.css" rel="stylesheet"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/4.1.5/css/flag-icons.min.css" integrity="sha512-UwbBNAFoECXUPeDhlKR3zzWU3j8ddKIQQsDOsKhXQGdiB5i3IHEXr9kXx82+gaHigbNKbTDp3VY/G6gZqva6ZQ==" crossorigin="anonymous" referrerpolicy="no-referrer"/></head><body><div><header style="background: #ff9300;"><header class="p-4 bg-white flex flex-col lg:flex-row justify-between items-center"><div><a href="https://bitcoinitalianetwork.com/" class="text-lg"><span class="font-bold text-black"><span class="bg-green-500">&nbsp;₿itcoin</span><span>Italia</span><span class="bg-red-500 text-white">Network&nbsp;</span></span></a></div></header></header><div class="container"><nav><ol class="breadcrumb"><li class="breadcrumb-item"><a href="https://bitcoinitalianetwork.com/">Home</a></li><li class="breadcrumb-item"><a href="https://glossario.bitcoinitalianetwork.com/">Glossario</a></li><li class="breadcrumb-item"><a href="livello_avanzato.html">avanzato</a></li><li class="breadcrumb-item"><a href="avanzato_tecnologia.html">tecnologia</a></li></ol></nav></div><main><div class="container"><div class="card"><div class="card-body"><h5 class="card-body"><div><p><span class="flag-icon flag-icon-gb"></span><span> </span>witness</p><div></div></div></h5><p class="card-text"><div><p><span class="text-secondary">Difficoltà: </span><a href="livello_avanzato.html" class="badge bg-primary">avanzato</a></p><p><span class="text-secondary">Argomento: </span><span class="badge rounded-pill bg-success">tecnologia</span></p><hr/><p class="fw-bold">DEFINIZIONE</p><section><p class="fs-5"><p>Il Witness, traducibile letteralmente come testimone, all'interno di una <a href="tx.html">transazione</a> è quella parte che rappresenta la firma di sblocco.</p>
<p>La transazione Bitcoin può quindi essere considerata composta da 2 segmenti:</p>
<ul>
<li>I dati della firma, chiamati witness </li>
<li>il <a href="merkle-tree.html">Merkle tree</a> record di chi invia o riceve i bitcoin</li>
</ul>
<p>Prima di <a href="segwit.html">Segwit</a>, questi due segmenti erano uniti, mentre con Segwit i due segmenti vengono divisi, rimuovendo il witness dalla porzione originale e aggiungendolo in fondo come struttura separata.
La sezione originale continua a trattenere i dati di chi invia o riceve e la nuova struttura witness contiene gli script e le firme. Questo comporta un vantaggio anche in termini di scalabilità ai fini dell'occupazione di un blocco, perché il segmento dati originale viene contato normalmente ma il segmento witness viene contato come un quarto della sua grandezza reale.</p>
<p>Il Witness di una transazione è una sezione delle transazioni SegWit non inclusa quando una transazione viene sottoposta a <a href="hash.html">hash</a> e firma. Il witness contiene gli Script Witness per tutti gli input SegWit di una transazione. Lo Script Witness è analogo a uno <a href="scriptsig.html">ScriptSig</a> nelle transazioni legacy (quelle con il vecchio formato prima di segwit): contiene le firme e gli script necessari per spendere un precedente output SegWit.</p>
<p>Poiché lo <a href="scriptspend.html">ScriptSpend</a>, script di spesa, è incluso nel witness, lo ScriptSig delle transazioni SegWit viene lasciato vuoto. Non essendo il witness incluso nell'hash di una transazione, non influisce sul <a href="txid.html">txid</a>. Questa architettura è stata implementata per eliminare la <a href="transaction-malleability.html">Transaction Malleability</a>.</p>
<p>I dati del witness sono considerati parte di una transazione e vengono memorizzati insieme a ogni transazione da tutti i <a href="node.html">nodi</a> Bitcoin che hanno implementato SegWit. Tuttavia, i dati dei witness ricevono uno sconto quando viene calcolato il peso di una transazione. Mentre un normale byte di una transazione equivale a 4 unità di peso, un byte di dati del witness pesa solo 1 unità di peso. Questo sconto rende le uscite SegWit meno costose di quelle legacy. Inoltre, aumenta effettivamente la dimensione massima dei blocchi da 1MB a 4MB.</p>
<p>Per garantire che il witness di una transazione non possa essere alterato una volta inserito nella blockchain, viene calcolato un witness txid, o wtxid, separato. Questo wtxid viene utilizzato per creare un albero di Merkle distinto di tutte le transazioni SegWit in un blocco, simile al normale albero di Merkle di un blocco. Questo albero Merkle viene aggiunto come scriptPubKey di un output coinbase vuoto utilizzando <a href="op_return.html">OP_RETURN</a>.</p></p></section><div><ul class="list-group  list-group-flush"><li class="list-group-item fw-bold">Link utili:</li><li class="list-group-item"><a href="https://learnmeabitcoin.com/technical/transaction/witness/">Witness su Learn Me A Bitcoin (in inglese)</a></li></ul></div><div class="row p-4 fw-light"><ul class="list-group"><li class="list-group-item list-group-item-primary">Vedi anche</li><li class="list-group-item list-group-item-action"><a href="scriptsig.html">ScriptSig</a></li><li class="list-group-item list-group-item-action"><a href="segwit.html">SegWit</a> (Segregated Witness)</li><li class="list-group-item list-group-item-action"><a href="weight-unit.html">weight unit</a></li></ul></div><hr/><p class="text-end fw-lighter"><span class="text-secondary">aggiornato il </span>2022-10-22</p></div></p></div></div></div></main><div class="container-fluid text-white bg-dark"><div class="container"><footer class="py-5"><div class="row"><div>Scarica il glossario: 
<a href="glossario.pdf" class="text-white">pdf</a> 
<a href="glossario.epub" class="text-white">epub</a></div><div class="row fs-6 fw-lighter">il Glossario Bitcoin in italiano è disponibile su ipfs: <ul><li><span><a href="https://shrill-water-3846.on.fleek.co/" class="text-white">tramite Fleek</a> <a href="https://docs.ipfs.io/how-to/websites-on-ipfs/introducing-fleek/" class="text-white">(cos'è Fleek?)</a></span></li></ul></div></div><div class="d-flex justify-content-between py-4 my-4 border-top"><a href="https://BitcoinItaliaNetwork.com" style="color: white;">Bitcoin Italia Network</a><a href="https://nostree.me/npub14yzptn3vkf4ravfl9dhu49pzqpsap3m5emze2e6v4tuyceht72eqkhzldt" style="color: white;">21 Milioni di chiacchiere</a><ul class="list-unstyled d-flex"><li class="ms-3"><a href="https://t.me/+iCd-GTx2Sx04Mzk0" class="text-white"><i class="bi bi-telegram"></i></a></li><li class="ms-3"><a href="https://twitter.com/21MdiC_BTC" class="text-white"><i class="bi bi-twitter-x"></i></a></li><li class="ms-3"><a href="https://www.facebook.com/groups/1479005739604711" class="text-white"><i class="bi bi-facebook"></i></a></li><li class="ms-3"><a href="https://nostr.com/npub14yzptn3vkf4ravfl9dhu49pzqpsap3m5emze2e6v4tuyceht72eqkhzldt" class="text-white"><i class="bi bi-clipboard2-check"></i></a></li><li class="ms-3"><a href="https://www.threads.net/@21mdic.btc" class="text-white"><i class="bi bi-threads"></i></a></li></ul></div></footer></div></div></div><script src="bootstrap-5.2.0-dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script></body></html>