<!doctype html>
<html><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>CLTV Check Lock Time Verify  - Glossario Bitcoin</title><link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet"/><link href="bootstrap-5.2.0-dist/css/bootstrap.min.css" rel="stylesheet"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/4.1.5/css/flag-icons.min.css" integrity="sha512-UwbBNAFoECXUPeDhlKR3zzWU3j8ddKIQQsDOsKhXQGdiB5i3IHEXr9kXx82+gaHigbNKbTDp3VY/G6gZqva6ZQ==" crossorigin="anonymous" referrerpolicy="no-referrer"/></head><body><div><header style="background: #ff9300;"><header class="p-4 bg-white flex flex-col lg:flex-row justify-between items-center"><div><a href="https://bitcoinitalianetwork.com/" class="text-lg"><span class="font-bold text-black"><span class="bg-green-500">&nbsp;₿itcoin</span><span>Italia</span><span class="bg-red-500 text-white">Network&nbsp;</span></span></a></div></header></header><div class="container"><nav><ol class="breadcrumb"><li class="breadcrumb-item"><a href="https://bitcoinitalianetwork.com/">Home</a></li><li class="breadcrumb-item"><a href="https://glossario.bitcoinitalianetwork.com/">Glossario</a></li><li class="breadcrumb-item"><a href="livello_avanzato.html">avanzato</a></li><li class="breadcrumb-item"><a href="avanzato_tecnologia.html">tecnologia</a></li></ol></nav></div><main><div class="container"><div class="card"><div class="card-body"><h5 class="card-body"><div><p><span class="flag-icon flag-icon-gb"></span><span> </span>CLTV</p><p class="fs-6"><span class="text-secondary">acronimo di: </span>Check Lock Time Verify</p><div></div></div></h5><p class="card-text"><div><p><span class="text-secondary">Difficoltà: </span><a href="livello_avanzato.html" class="badge bg-primary">avanzato</a></p><p><span class="text-secondary">Argomento: </span><span class="badge rounded-pill bg-success">tecnologia</span></p><hr/><p class="fw-bold">DEFINIZIONE</p><section><p class="fs-5"><p>CLTV è un'interessante funzionalità di timelock che esiste in Bitcoin progettata per consentire ai suoi script di eseguire pianificazioni temporali avanzate sulle transazioni.
CLTV rende possibile bloccare output (UTXO) che non possono essere spesi fino a quando non è arrivato un tempo determinato in precedenza.</p>
<p>CLTV è stato introdotto a dicembre 2015 nel soft fork definito dal BIP-0065, nel quale lo sviluppatore Peter Todd descrive il nuovo Opcode OP_CHECKLOCKTIMEVERIFY.
Questa funzione consente a una transazione Bitcoin di rimanere bloccata nel tempo e non diventare effettiva fino al raggiungimento di una data e ora o uno specifico block height.</p>
<p>CLTV può essere utile per casi nei quali si vuole pianificare pagamenti futuri per date specifiche.</p>
<p>Come funziona CLTV
Quando un utente stabilisce ed esegue una transazione con il codice OP_CHECKLOCKTIMEVERIFY, gli output di questa transazione saranno attivati solo quando la condizione stabilita sarà soddisfatta e non quando la transazione sarà eseguita. Ciò significa che la transazione viene eseguita correttamente ma le criptovalute rimarranno bloccate nel tempo fino a un momento futuro.</p>
<p>Il codice OP_CHECKLOCKTIMEVERIFY viene eseguito come parte di uno script Bitcoin e la sua programmazione si basa sull'uso di Unix Timestamp o su blockheight all'interno della blockchain.</p>
<p>Le condizioni per il fallimento dello script in una transazione CLTV sono le seguenti:</p>
<ol>
<li>che lo stack sia vuoto e che non vi sia un tempo definito per il codice da eseguire il confronto e la verifica.</li>
<li>che l'elemento superiore dello stack sia inferiore a quello della condizione stabilita per sbloccare gli output. Ciò indica che il tempo necessario per sbloccare la transazione non è trascorso.</li>
<li>Un'altra condizione di fallimento si verificherà se il timelock stabilito viene misurato in block height e l'elemento superiore dello stack utilizza misurazioni del tempo (in secondi) o viceversa.</li>
<li>il campo nSequence di questa voce è impostato su 0xFFFFFFFF.</li>
</ol>
<p>Una transazione CLTV può essere inclusa nella blockchain solo una volta che ha superato il tempo o le condizioni stabilite. Una volta che ciò accade, le transazioni CLTV vengono immediatamente verificate e aggiunte alla blockchain e vengono considerate spese.</p>
<p>Relazione CLTV e nLockTime
Sia CLTV che nLockTime sono due funzioni che consentono a Bitcoin di programmare azioni che dipendono dal tempo o dall'altezza del blocco per la loro corretta esecuzione.
nLockTime garantisce che Bitcoin possa pianificare l'esecuzione delle transazioni a una certa block height o timestamp, mentre CLTV consente di aggiungere un ulteriore livello di verifica e programmazione a nLockTime. Questo perché CLTV prende nLockTime e verifica che sia presente un insieme aggregato di condizioni pianificate per la sua attivazione, una situazione che era molto più diretta con nLockTime originale. CLTV consente anche di alterare alcune condizioni originali della transazione se determinate condizioni sono soddisfatte.</p>
<p>Ad esempio, un indirizzo multi-firma 2 su 3, che non è stato mosso in un certo periodo di tempo, può modificare i suoi parametri di autenticazione in 1 su 3, in modo che alcune delle persone inizialmente autorizzate possano movimentare i fondi in esso contenuti. Questa è una funzionalità unica che CLTV può offrire che nLockTime da solo non può fare.</p>
<p>Una delle maggiori caratteristiche di CLTV è che il suo utilizzo consente la creazione di script che possono facilmente modificare le condizioni per l'attivazione di un evento o transazione nella blockchain di Bitcoin.</p>
<p>Implementazione di CLTV
Una delle potenzialità più grandi e più importanti della funzione CLTV è quella di consentire la creazione di canali di pagamento e che questi possano essere implementati correttamente. Attraverso i canali di pagamento è possibile creare micro-transazioni al di fuori della blockchain. Tutto questo senza dover pagare tante commissioni per ognuna e senza appesantire la blockchain.</p>
<p>Nei canali di pagamento, un utente può effettuare una transazione a un altro depositando una certa quantità di criptovalute in un file indirizzo multi-firma (MultiSig). Entrambi gli utenti avranno accesso a quell'indirizzo. E l'utente che esegue la transazione può firmare piccole transazioni che verranno fatte all'altro utente da quei fondi.</p></p></section><div><ul class="list-group  list-group-flush"><li class="list-group-item fw-bold">Link utili:</li><li class="list-group-item"><a href="https://github.com/bitcoin/bips/blob/master/bip-0065.mediawiki">Il testo della BIP 65 OP_CHECKLOCKTIMEVERIFY</a></li></ul></div><div class="row p-4 fw-light"><ul class="list-group"><li class="list-group-item list-group-item-primary">Vedi anche</li><li class="list-group-item list-group-item-action"><a href="bip.html">BIP</a> (Bitcoin Improvement Proposal)</li><li class="list-group-item list-group-item-action"><a href="bip-113-median-time-past.html">BIP 113 Median time-past</a></li><li class="list-group-item list-group-item-action"><a href="block-height.html">Block height</a> Altezza del blocco</li><li class="list-group-item list-group-item-action"><a href="multisig.html">Multisig</a> (Multi-Signature) multi-firma</li><li class="list-group-item list-group-item-action"><a href="nlocktime.html">nLockTime</a></li><li class="list-group-item list-group-item-action"><a href="opcode.html">Opcode</a></li><li class="list-group-item list-group-item-action"><a href="timelocklocktime.html">Timelock/Locktime</a></li><li class="list-group-item list-group-item-action"><a href="timestamp.html">Timestamp</a> Marca temporale</li><li class="list-group-item list-group-item-action"><a href="utxo.html">UTXO</a> (Unspent transaction output) Output non spesi delle transazioni</li></ul></div><hr/><p class="text-end fw-lighter"><span class="text-secondary">aggiornato il </span>2022-03-16</p></div></p></div></div></div></main><div class="container-fluid text-white bg-dark"><div class="container"><footer class="py-5"><div class="row"><div>Scarica il glossario: 
<a href="glossario.pdf" class="text-white">pdf</a> 
<a href="glossario.epub" class="text-white">epub</a></div><div class="row fs-6 fw-lighter">il Glossario Bitcoin in italiano è disponibile su ipfs: <ul><li><span><a href="https://shrill-water-3846.on.fleek.co/" class="text-white">tramite Fleek</a> <a href="https://docs.ipfs.io/how-to/websites-on-ipfs/introducing-fleek/" class="text-white">(cos'è Fleek?)</a></span></li></ul></div></div><div class="d-flex justify-content-between py-4 my-4 border-top"><a href="https://BitcoinItaliaNetwork.com" style="color: white;">Bitcoin Italia Network</a><a href="https://nostree.me/npub14yzptn3vkf4ravfl9dhu49pzqpsap3m5emze2e6v4tuyceht72eqkhzldt" style="color: white;">21 Milioni di chiacchiere</a><ul class="list-unstyled d-flex"><li class="ms-3"><a href="https://t.me/+iCd-GTx2Sx04Mzk0" class="text-white"><i class="bi bi-telegram"></i></a></li><li class="ms-3"><a href="https://twitter.com/21MdiC_BTC" class="text-white"><i class="bi bi-twitter-x"></i></a></li><li class="ms-3"><a href="https://www.facebook.com/groups/1479005739604711" class="text-white"><i class="bi bi-facebook"></i></a></li><li class="ms-3"><a href="https://nostr.com/npub14yzptn3vkf4ravfl9dhu49pzqpsap3m5emze2e6v4tuyceht72eqkhzldt" class="text-white"><i class="bi bi-clipboard2-check"></i></a></li><li class="ms-3"><a href="https://www.threads.net/@21mdic.btc" class="text-white"><i class="bi bi-threads"></i></a></li></ul></div></footer></div></div></div><script src="bootstrap-5.2.0-dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script></body></html>