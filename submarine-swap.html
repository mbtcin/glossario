<!doctype html>
<html><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Submarine Swap  - Glossario Bitcoin</title><link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet"/><link href="bootstrap-5.2.0-dist/css/bootstrap.min.css" rel="stylesheet"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/4.1.5/css/flag-icons.min.css" integrity="sha512-UwbBNAFoECXUPeDhlKR3zzWU3j8ddKIQQsDOsKhXQGdiB5i3IHEXr9kXx82+gaHigbNKbTDp3VY/G6gZqva6ZQ==" crossorigin="anonymous" referrerpolicy="no-referrer"/></head><body><div><header style="background: #ff9300;"><header class="p-4 bg-white flex flex-col lg:flex-row justify-between items-center"><div><a href="https://bitcoinitalianetwork.com/" class="text-lg"><span class="font-bold text-black"><span class="bg-green-500">&nbsp;₿itcoin</span><span>Italia</span><span class="bg-red-500 text-white">Network&nbsp;</span></span></a></div></header></header><div class="container"><nav><ol class="breadcrumb"><li class="breadcrumb-item"><a href="https://bitcoinitalianetwork.com/">Home</a></li><li class="breadcrumb-item"><a href="https://glossario.bitcoinitalianetwork.com/">Glossario</a></li><li class="breadcrumb-item"><a href="livello_avanzato.html">avanzato</a></li><li class="breadcrumb-item"><a href="avanzato_tecnologia.html">tecnologia</a></li></ol></nav></div><main><div class="container"><div class="card"><div class="card-body"><h5 class="card-body"><div><p><span class="flag-icon flag-icon-gb"></span><span> </span>Submarine Swap</p><div></div></div></h5><p class="card-text"><div><p><span class="text-secondary">Difficoltà: </span><a href="livello_avanzato.html" class="badge bg-primary">avanzato</a></p><p><span class="text-secondary">Argomento: </span><span class="badge rounded-pill bg-success">tecnologia</span></p><hr/><p class="fw-bold">DEFINIZIONE</p><section><p class="fs-5"><p>Non è possibile inviare direttamente Bitcoin da un <a href="lightning-channel.html">canale lightning</a> a un normale indirizzo <a href="on-chain.html">on-chain</a>. I submarine swap, che si basano sugli stessi principi dei normali <a href="atomic-swap.html">atomic swap</a>, forniscono una soluzione a questo problema.</p>
<p>I submarine swap sono swap atomici da on-chain a <a href="off-chain.html">off-chain</a> (e viceversa) di criptovalute. Sono progettati per facilitare il trasferimento dalla blockchain Bitcoin ad un canale <a href="lightning-network.html">LN (Lightning Network)</a>. A differenza degli atomic swap, nei quali Lightning Network deve essere abilitato su entrambe le criptovalute che partecipano allo swap, con submarine swap è sufficiente che Lightning sia abilitato su un solo lato. I submarine swap sono realizzabili anche tra diverse blockchain.</p>
<p>Si basano su un tipo specifico di <a href="smart-contract.html">smart contract</a> Bitcoin chiamato <a href="htlc.html">HTLC</a>, Hash Time-Locked Contracts. Poiché gli HTLC possono includere transazioni sia on-chain che off-chain, gli HTLC possono essere utilizzati anche per i pagamenti ed è il costrutto principale che consente il trasferimento di denaro tramite Lightning Network. Gli HTLC possono anche essere sfruttati tra un mittente on-chain e un ricevente off-chain e viceversa, e questi sono submarine swap.</p>
<p>Lo smart contract per il submarine swap è chiamato swap provider. Può essere gestito da un servizio di terze parti ma è uno smart contract sulla blockchain. I submarine possono essere utilizzati per:</p>
<ul>
<li>Pagare in modo trustless uno swap provider in una rete per eseguire un pagamento sull'altra rete</li>
<li>Pagare in modo trustless uno swap provider in una rete per trasferire coin sull'altra rete</li>
<li>Pagare in modo trustless uno swap provider per riequilibrare i canali Lightning</li>
</ul>
<h4>Perché sono necessari i submarine swap?</h4>
<p>Il problema principale dell'indirizzo del submarine swap è che le transazioni tra indirizzi Bitcoin on-chain e indirizzi LN off-chain non sono direttamente compatibili. Non si può inviare facilmente una transazione Lightning a qualcuno che non usa il Lightning o viceversa. Questa separazione dei livelli crea una barriera di transazione tra la blockchain Bitcoin e la LN off-chain. Un'ulteriore limitazione dell'attuale implementazione di LN è che la configurazione di un canale LN richiede una transazione on-chain (e una fee successiva) e un importo precompilato di BTC inviato al canale. Una volta esaurita la fornitura di BTC nel canale, non esiste alcun metodo per ricaricare il canale e per continuare a utilizzare è necessario aprire un altro canale. Sebbene le transazioni sostanzialmente illimitate possano essere inviate all'interno di un canale LN purché nel canale siano presenti BTC sufficienti. La gestione dei canali costa più in commissioni di transazione sulla chain e come complessità, rendendo scomodo e inefficiente l'apertura ripetuta di più canali.</p>
<h4>In che modo gli submarine swap risolvono il problema</h4>
<p>I submarine swap risolvono questo problema consentendo ricaricare i canali LN tramite un trasferimento on-chain dalla blockchain di Bitcoin al canale LN off-chain. I submarine swap sono ispirati agli atomic swap, quindi hanno un funzionamento simile.
I submarine swap e atomici utilizzano un intermediario trustless per il trasferimento di token tra blockchain o intra-chain (ad esempio, Bitcoin on-chain to off-chain LN). I submarine swap sfruttano gli HTLC contract in cui il destinatario di una transazione deve riconoscere di aver ricevuto il pagamento prima di una scadenza specifica fornendo una prova crittografica del pagamento. In caso contrario, il destinatario perde la possibilità di richiedere i token e vengono restituiti al pagatore.</p></p></section><div><ul class="list-group  list-group-flush"><li class="list-group-item fw-bold">Link utili:</li><li class="list-group-item"><a href="https://docs.boltz.exchange/en/latest/lifecycle/">La documentazione di boltz.exchange su come funzionano i submarine swaps</a></li><li class="list-group-item"><a href="https://stacker.news/items/163372">Submarine Swaps Guide su stacker news (in inglese)</a></li></ul></div><div class="row p-4 fw-light"><ul class="list-group"><li class="list-group-item list-group-item-primary">Vedi anche</li><li class="list-group-item list-group-item-action"><a href="atomic-swap.html">Atomic Swap</a></li><li class="list-group-item list-group-item-action"><a href="htlc.html">HTLC</a> (Hash Timelock Contracts)</li><li class="list-group-item list-group-item-action"><a href="lightning-network.html">Lightning Network</a></li><li class="list-group-item list-group-item-action"><a href="off-chain.html">Off Chain</a></li><li class="list-group-item list-group-item-action"><a href="on-chain.html">On Chain</a></li><li class="list-group-item list-group-item-action"><a href="smart-contract.html">Smart Contract</a></li><li class="list-group-item list-group-item-action"><a href="swap.html">Swap</a></li></ul></div><hr/><p class="text-end fw-lighter"><span class="text-secondary">aggiornato il </span>2022-06-30</p></div></p></div></div></div></main><div class="container-fluid text-white bg-dark"><div class="container"><footer class="py-5"><div class="row"><div>Scarica il glossario: 
<a href="glossario.pdf" class="text-white">pdf</a> 
<a href="glossario.epub" class="text-white">epub</a></div><div class="row fs-6 fw-lighter">il Glossario Bitcoin in italiano è disponibile su ipfs: <ul><li><span><a href="https://shrill-water-3846.on.fleek.co/" class="text-white">tramite Fleek</a> <a href="https://docs.ipfs.io/how-to/websites-on-ipfs/introducing-fleek/" class="text-white">(cos'è Fleek?)</a></span></li></ul></div></div><div class="d-flex justify-content-between py-4 my-4 border-top"><a href="https://BitcoinItaliaNetwork.com" style="color: white;">Bitcoin Italia Network</a><a href="https://nostree.me/npub14yzptn3vkf4ravfl9dhu49pzqpsap3m5emze2e6v4tuyceht72eqkhzldt" style="color: white;">21 Milioni di chiacchiere</a><ul class="list-unstyled d-flex"><li class="ms-3"><a href="https://t.me/+iCd-GTx2Sx04Mzk0" class="text-white"><i class="bi bi-telegram"></i></a></li><li class="ms-3"><a href="https://twitter.com/21MdiC_BTC" class="text-white"><i class="bi bi-twitter-x"></i></a></li><li class="ms-3"><a href="https://www.facebook.com/groups/1479005739604711" class="text-white"><i class="bi bi-facebook"></i></a></li><li class="ms-3"><a href="https://nostr.com/npub14yzptn3vkf4ravfl9dhu49pzqpsap3m5emze2e6v4tuyceht72eqkhzldt" class="text-white"><i class="bi bi-clipboard2-check"></i></a></li><li class="ms-3"><a href="https://www.threads.net/@21mdic.btc" class="text-white"><i class="bi bi-threads"></i></a></li></ul></div></footer></div></div></div><script src="bootstrap-5.2.0-dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script></body></html>